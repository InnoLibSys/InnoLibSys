{% extends 'library/wrapper.html' %}

{% block content %}

<div class="container-fluid" style="background-color: white; height: 700px">

	<div style="padding-top: 20px;padding-left: 90%; width: 50px">
		<a href='library/logout' class="btn btn-info btn-lg" role="button">Logout</a>
		</div>
	<div class="container" style="border-color: #FFFFFF">
	<div class="container" style="padding-top: 10%">
	<div class="row" style="background-color: #7aff59; border-radius: 10px 10px 0px 0px">
		<div class="col-md-6" style="font-style: italic; padding-left: 10%; padding-top: 10px; padding-bottom: 10px"> {% if user.profile.admin %}<h1>Admin account</h1>
		{% elif user.profile.librarian %}<h1>Librarian account</h1>
		{% else %}<h1>Patron account</h1>
		{% endif %}
		<h2>Hello, {{ user.username }}</h2>
		</div>
		{% if user.profile.patron %}
		<div class="col-md-6" style="padding-top: 30px; padding-left: 30%">
		<a href="library/mycard" class="btn btn-info btn-lg" role="button">My info</a></div>
		{% endif %}
		</div>
		</div>
		
<div class="container" style="background-color: #ebebeb; border-radius: 0px 0px 10px 10px; width: 1110px; padding-top: 50px">

<div style="padding: 10%; padding-top: 5%">

{% if user.profile.admin %}
	<a href="library/manage/librarians/"><p class="lead"><strong>Manage librarians</strong></p></a>
	<a href="library/manage/logs/"><p class="lead"><strong>Logs</strong></p></a>
{% elif user.profile.librarian %}
	<a href="library/manage/patrons"><p class="lead"><strong>Manage patrons</strong></p></a>
	<a href="library/manage/documents"><p class="lead"><strong>Manage documents</strong></p></a>
	<a href="library/manage/return/"><p class="lead"><strong>Return requests</strong></p></a>
{% else %}

    <a href="library/documents"><p class="lead"><strong>My documents</strong></p></a>
	<a href="library/documents/check-out"><p class="lead"><strong>Check out documents</strong></p></a>
	<a href="library/search/"><p class="lead"><strong>Search!</strong></p></a>

	<button id="myBtn" class="btn btn-lg btn-info">Notifications</button>
	<div id="myModal" class="modal">
	  <!-- Modal content -->
	  <div class="modal-content">
	  	<div class="modal-header">
	  		<h2>Notifications</h2>
	  		<span class="close">&times;</span>
	  	</div>
	  	<div class="modal-body">
		    {% if notifications %}
		    	{% for notification in notifications %}
		    		<p>{{ notification.date }}</p>
		    		<br>
		    		<p>{{ notification.message }}</p>
		    	{% endfor %}
		    {% else %}
		    	<p>No notifications yet</p>
		    {% endif %}
		</div>
	  </div>
	  	<script>
	// Get the modal
	var modal = document.getElementById('myModal');

	// Get the button that opens the modal
	var btn = document.getElementById("myBtn");

	// Get the <span> element that closes the modal
	var span = document.getElementsByClassName("close")[0];

	// When the user clicks the button, open the modal 
	btn.onclick = function() {
	    modal.style.display = "block";
	}

	// When the user clicks on <span> (x), close the modal
	span.onclick = function() {
	    modal.style.display = "none";
	}

	// When the user clicks anywhere outside of the modal, close it
	window.onclick = function(event) {
	    if (event.target == modal) {
	        modal.style.display = "none";
	    }
	}
	</script>
	{% endif %}

	</div>
	</div>

	</div>
	</div>


	{% endblock %}